<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>canvas</title>
<style>
	canvas{border:1px solid #ccc}
</style>
</head>
<body>
	<canvas width="800" height="600" id="mycanvas">您的浏览器不支持canvas,请更换浏览器</canvas>
<script>
	
	/*定义一个兼容各个浏览器的 requestAnimationFrame*/
	if(!window.requestAnimationFrame){
		window.requestAnimationFrame=window.webkitRequestAnimationFrame ||
			window.mozRequestAnimationFrame ||
			window.msRequestAnimationFrame ||
			window.oRequestAnimationFrame ||
			function(callback){
				return window.setTimeout(callback,1000/60);
			}
	
	}
	
	
	var mycanvas=document.getElementById("mycanvas");
	var con=mycanvas.getContext("2d");
	
	var x =0;
	var y=0;
	
	
	(function drew(){
		con.clearRect(0,0,mycanvas.width,mycanvas.height)
		con.beginPath();
		con.fillStyle = "purple";
		con.arc(x,y,20,0,2*Math.PI,true);
		con.fill();
		x+=2;
		y+=4;

		
		
//		(function(callback){
//			return window.setTimeout(callback,1000/60);
//		})(drew)
		
//		window.setTimeout(drew,1000/60);
		
		
		window.requestAnimationFrame(drew);
	})()
</script>
</body>
</html>