var base={};base.ui={},base.action={},base.form={},base.action.borrow=function(e){e=$.extend({borrowtype:!1,name:!1,mobile:!1,smscode:!1,certinumber:!1,amount:!1,borrowtime:!1,callback:function(e){},beforeSend:function(){},complete:function(){}},e);var o=!(e.borrowtype&&e.name&&e.mobile&&e.smscode&&e.certinumber&&e.amount&&e.borrowtime);return o?void base.ui.alert("参数错误"):void $.ajax({url:"/borrow/borrowadd.html",type:"POST",dataType:"json",timeout:2e4,data:{name:e.name,mobile:e.mobile,smscode:e.smscode,certinumber:e.certinumber,amount:e.amount,borrowtime:e.borrowtime},beforeSend:e.beforeSend,success:function(o){e.callback(o)},complete:e.complete,error:function(){base.ui.alert("网络错误")}})},base.action.login=function(e){var o=$.extend({mobile:!1,password:!1,callback:function(e){},beforeSend:function(){},complete:function(){}},e);return o.mobile&&o.password?void $.ajax({url:"/member/loginsubmit",type:"POST",data:{mobile:o.mobile,password:o.password},dataType:"json",timeout:2e4,beforeSend:o.beforeSend,success:function(e){o.callback(e)},complete:o.complete,error:function(){base.ui.alert("网络错误")}}):(console.log("参数错误"),!1)},base.action.register=function(e){return e=$.extend({mobile:!1,code:!1,pwd:!1,invite:"",callback:function(e){},beforeSend:function(){},complete:function(){}},e),e.mobile&&e.pwd&&e.code?void $.ajax({url:"/member/register",type:"POST",dataType:"json",data:{mobile:e.mobile,code:e.code,pwd:e.pwd,invite:e.invite},beforeSend:e.beforeSend,success:e.callback,complete:e.complete}):(console.log("参数错误"),!1)},base.action.sendBorrowSms=function(e){return e=$.extend({mobile:!1,callback:function(e){},beforeSend:function(){},complete:function(){}},e),e.mobile?void $.ajax({url:"/public/borrowverifysms.html",type:"POST",dataType:"json",data:{mobile:e.mobile},timeout:2e4,beforeSend:e.beforeSend,success:function(o){e.callback(o)},complete:e.complete,error:function(){base.ui.alert("网络错误")}}):void base.ui.alert("参数错误")},base.action.sendRegSms=function(e){return e=$.extend({mobile:!1,verify:!1,callback:function(e){},beforeSend:function(){},complete:function(){}},e),e.mobile&&e.verify?void $.ajax({url:"/public/sendverifysms.html",type:"POST",dataType:"json",data:{mobile:e.mobile,verify:e.verify},beforeSend:e.beforeSend,success:e.callback,complete:e.complete,error:function(){base.ui.alert("网络错误")}}):(base.ui.alert("参数错误"),!1)},base.form.isCertificateNum=function(e){if("string"!=(typeof e).toLowerCase())return void base.ui.alert("参数错误");if(e.length<=0)return{success:!1,msg:"身份证不能为空"};var o=/^[1-9][0-9]{5}(19[0-9]{2}|200[0-9]|2010)(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])[0-9]{3}[0-9xX]$/i.test(e);return o?{success:!0,msg:""}:{success:!1,msg:"身份证有误"}},base.form.isEmpty=function(e){return e.length<=0},base.form.isPassword=function(e){return"string"!==(typeof e).toLowerCase()?{success:!1,msg:"参数错误"}:e.length<=0?{success:!1,msg:"请填写密码"}:e.length<6?{success:!1,msg:"密码不能少于6位"}:{success:!0,msg:""}},base.form.isPhoneNum=function(e){return"string"!==(typeof e).toLowerCase()?{success:!1,msg:"参数错误"}:e.length<=0?{success:!1,msg:"请填写手机号"}:/^1[3|4|5|7|8]\d{9}$/.test(e)?{success:!0,msg:""}:{success:!1,msg:"手机号有误"}},base.ui.alert=function(){"use strict";function e(e){if("string"==(typeof e).toLowerCase()){var o=e;e={},e.text=o,e.during=1500,e.container="body",e.callback=function(){}}"object"==(typeof e).toLowerCase()&&(e=$.extend({text:"",during:1500,container:"body",callback:function(){}},e));var t=$("<div></div>").html(e.text).appendTo("body").css({"z-index":"2147483647",display:"none",position:"fixed","min-width":"100px","background-color":"#000000",padding:"20px","font-size":"16px","text-align":"center",color:"#ffffff","box-shadow":"5px 5px 10px rgba(0,0,0,.382)","border-radius":"5px"});t.fadeIn(500).css({left:$(e.container).offset().left+$(e.container).width()/2-t.outerWidth()/2,top:$(window).width()>=1024?$(window).height()/2-t.outerHeight()/2-55:"",bottom:$(window).width()<1024?"10%":""}),setTimeout(function(){t.fadeOut(500)},500+e.during),setTimeout(function(){t.remove(),e.callback()},1e3+e.during)}return e}(),base.ui.boxShadow=function(e){"use strict";return e=$.extend({elem:!1,borderColor:"#2e9ee6",boxShadow:"0 0 10px rgba(46,158,230,.382)"},e),e.elem?void $(e.elem).css({borderColor:e.borderColor,boxShadow:e.boxShadow}):void console.error("elem参数未定义")},base.ui.fakeSelect=function(){function e(e){return $(e.elem).is("select")?void(this.option=$.extend({icon:'<i class="icon icon-user"></i>',placeholder:"选择一项"},e)):void console.error("fakeSlect函数只能用在select元素上")}return e.prototype.init=function(){var e=this;this.$elem=$(this.option.elem).val("").data("changed",!1),this.$box=$('<div class="fakeselect"></div>').html(""),this.$icon=$(this.option.icon).addClass("fakeselect-icon").appendTo(this.$box),this.$head=$('<div class="fakeselect-head"></div>').html(this.option.placeholder).appendTo(this.$box),this.$head.on("click",function(o){e.$menu.is(":visible")?(e.$menu.fadeOut(200),$(this).removeClass("active")):(e.$menu.fadeIn(200),$(this).addClass("active"))}),this.$menu=$('<ul class="fakeselect-option"></ul>').appendTo(this.$box),$.each(this.$elem.find("option"),function(){var o=$('<li class="fakeselect-item" data-val="'+$(this).val()+'">'+$(this).html()+"</li>");o.appendTo(e.$menu),o.on("click",function(t){e.$elem.val(o.data("val")),e.$head.html(o.html()),e.$menu.fadeOut(200),e.$head.removeClass("active"),e.$elem.data("changed",!0)})}),$(document).on("click",function(o){var t=!1;$.each($(o.target).parents(),function(){this==e.$box.get(0)&&(t=!0)}),t||(e.$menu.fadeOut(200),e.$head.removeClass("active"))}),this.$elem.after(this.$box).hide(0)},e.prototype.destroy=function(){this.$box.remove(),this.$elem.show(0)},e}(),base.ui.isOldBrowser=function(){return!!navigator.userAgent.match(/(MSIE 8.0|MSIE 7.0|MSIE 6.0)/g)},base.ui.loading=function(){"use strict";function e(e,s){i.css({top:$(window).height()/2-40,left:$(window).width()/2-100}),n.html(s||" "),"hide"!=e?(clearInterval(o),base.ui.mask("show"),i.appendTo("body").fadeIn(200),o=setInterval(function(){a.css({transform:"scale(1)"}).eq(t).css({transform:"scale(1.5)"}),t+1>=a.length?t=0:t++},250)):(clearInterval(o),base.ui.mask("hide"),i.fadeOut(200))}var o=null,t=0,i=$("<div></div>").css({zIndex:2147483647,position:"fixed",top:$(window).height()/2-40,left:$(window).width()/2-100,width:"200px",height:"80px"}),n=$("<div></div>").css({color:"#ffffff",textAlign:"center",fontSize:"24px",fontWeight:"bold"}).appendTo(i),s=$("<ul><li></li><li></li><li></li><li></li><li></li></ul>").css({zIndex:2147483647,listStyle:"none",position:"absolute",bottom:0,width:"200px",height:"20px",margin:0,padding:0}).appendTo(i),a=s.find("li").css({float:"left",width:"20px",height:"20px",margin:"0 10px",borderRadius:"50%",backgroundColor:"#ffffff",transition:"transform .2s"});return e}(),base.ui.mask=function(){"use strict";function e(e){"hide"!=e?o.appendTo("body").fadeIn(200):o.fadeOut(200)}var o=$("<div></div>").css({zIndex:2147483646,display:"none",position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#000000",opacity:.618});return e}(),base.ui.modal=function(){function e(){base.ui.mask("hide"),a.children().hide(0).appendTo(document.body),n.fadeOut(250)}function o(e){i.hide(0).appendTo("body");var o=null;"string"==(typeof e).toLowerCase()?(o=$(e),base.ui.mask(),o.appendTo(a).show(0),n.appendTo(document.body),n.fadeIn(250),i=o):(o=$(e.el),base.ui.mask(),o.appendTo(a).show(0),n.appendTo(document.body),n.fadeIn(250),i=o)}function t(t){"hide"==t?e():(t=$.extend({top:0,left:0,width:450},t),o(t)),n.css({top:.25*$(window).height()+t.top<0?0:.25*$(window).height()+t.top,left:$(window).width()/2-t.width/2+t.left,width:t.width})}var i=$("null"),n=$("<div></div>").css({overflow:"hidden",display:"none",zIndex:"2147483647",position:"fixed",width:"450px",maxWidth:"90%",minHeight:"50px",maxHeight:.8*$(window).height(),padding:"20px 15px",backgroundColor:"#ffffff",border:"1px solid #dddddd",boxShadow:"2px 2px 10px rgba(0,0,0,.15)"}).addClass("ui-modal"),s=$('<a href="#">&times;</a>');s.css({position:"absolute",top:0,right:0,width:"25px",height:"25px",lineHeight:"25px",textAlign:"center",textDecoration:"none",color:"#999999",fontSize:"24px"}).hover(function(){$(this).css({color:"#000000"})},function(){$(this).css({color:"#999999"})}).click(function(o){o.preventDefault(),e()}),s.appendTo(n);var a=$('<div style="max-height:'+.8*$(window).height()+'px;margin-top:5px;"></div>').appendTo(n);return t}();
//# sourceMappingURL=base.js.map
